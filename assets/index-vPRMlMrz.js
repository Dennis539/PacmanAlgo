var X=Object.defineProperty;var F=(h,e,t)=>e in h?X(h,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):h[e]=t;var n=(h,e,t)=>(F(h,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const W of a.addedNodes)W.tagName==="LINK"&&W.rel==="modulepreload"&&s(W)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();class z{constructor(e,t,s,i,a,W,f,d){n(this,"height");n(this,"width");n(this,"xPos");n(this,"yPos");n(this,"xMiddle");n(this,"yMiddle");n(this,"type");n(this,"wallDir");n(this,"lineBeginX");n(this,"lineBeginY");n(this,"lineEndX");n(this,"lineEndY");n(this,"neighbors");n(this,"color");this.height=20,this.width=20,this.xPos=e,this.yPos=t,this.xMiddle=this.xPos+10,this.yMiddle=this.xPos+10,this.type="Wall",this.wallDir=s,this.lineBeginX=i,this.lineBeginY=a,this.lineEndX=W,this.lineEndY=f,this.neighbors=[],this.color=d}}class A{constructor(e,t,s){n(this,"height");n(this,"width");n(this,"xPos");n(this,"yPos");n(this,"xMiddle");n(this,"yMiddle");n(this,"type");n(this,"neighbors");n(this,"lighter");n(this,"darker");n(this,"lightness");this.height=8,this.width=8,this.xPos=e,this.yPos=t,this.xMiddle=this.xPos+10,this.yMiddle=this.yPos+10,this.type=s,this.neighbors=[],this.lighter=!0,this.darker=!1,this.lightness=50}updateLightness(){this.lighter&&this.lightness<100?this.lightness+=1:this.lightness>=100?(this.lighter=!1,this.darker=!0,this.lightness-=1):this.darker&&this.lightness>50?this.lightness-=1:this.darker&&this.lightness<=50&&(this.lighter=!0,this.darker=!1,this.lightness+=1)}}class U{constructor(e,t,s){n(this,"height");n(this,"width");n(this,"xPos");n(this,"yPos");n(this,"steps");n(this,"boardMatrix");n(this,"middlePosTile");n(this,"chaseTimeOut");n(this,"scatterTimeOut");n(this,"frightenedTimeOut");n(this,"lifeLost");n(this,"time");n(this,"setPinky");n(this,"setClyde");n(this,"setInky");n(this,"flicker");n(this,"gameOverScreen");this.height=600,this.width=0,this.xPos=150,this.yPos=150,this.steps=20,this.boardMatrix=[],this.createBoard(),this.middlePosTile=this.calculateMiddlePosTile(),this.chaseTimeOut=e,this.scatterTimeOut=t,this.frightenedTimeOut=s,this.lifeLost=!1,this.time=1,this.setPinky=!1,this.setClyde=!1,this.setInky=!1,this.flicker=0,this.gameOverScreen=!1}calculateMiddlePosTile(){let e=[];for(let t=0;t<this.boardMatrix.length;t++)for(let s=0;s<this.boardMatrix[t].length;s++)this.boardMatrix[t][s]&&e.push([this.boardMatrix[t][s].xPos+10,this.boardMatrix[t][s].yPos+10]);return e}createBoard(){let e;var t=["W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	N	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W","W	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	W	N	W	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	W","W	C	W	W	W	W	C	W	W	W	C	C	W	W	W	W	C	W	N	W	C	WR	WR	WR	WR	WR	WR	WR	WR	C	WY	WY	WY	WY	WY	WY	WY	WY	C	WG	WG	WG	WG	WG	WG	WG	WG	C	W	W	W	W	W	W	W	C	W","W	C	W	W	W	W	C	W	W	W	C	W	W	W	W	W	C	W	W	W	C	WR	W	W	W	W	W	W	WR	C	WY	W	W	W	W	W	W	WY	C	WG	W	W	W	W	W	W	WG	C	W	W	W	W	W	W	W	C	W","W	CP	C	C	C	C	C	W	W	W	W	W	W	W	W	C	C	C	C	C	C	WR	W	WR	WR	WR	WR	WR	WR	C	WY	W	WY	WY	WY	WY	WY	WY	C	WG	W	WG	WG	WG	WG	WG	WG	C	C	C	C	C	C	C	C	CP	W","W	W	W	W	W	W	C	W	W	W	W	W	W	W	C	C	W	W	W	W	C	WR	W	WR	CP	C	C	C	C	C	WY	W	WY	C	C	C	C	C	C	WG	W	WG	C	C	C	C	C	C	W	W	C	W	W	W	W	W	W","N	N	N	N	N	W	C	W	W	W	W	W	W	W	C	W	W	N	N	W	C	WR	W	WR	WR	WR	WR	WR	WR	C	WY	W	WY	WY	WY	WY	WY	WY	C	WG	W	WG	WG	WG	WG	WG	WG	C	W	W	C	W	N	N	N	N	N","W	W	W	W	W	W	C	W	W	W	W	W	W	C	C	W	N	N	N	W	C	WR	W	W	W	W	W	W	WR	C	WY	W	W	W	W	W	W	WY	C	WG	W	W	W	W	W	W	WG	C	W	W	C	W	W	W	W	W	W","WN	C	C	C	C	C	C	W	W	W	W	W	W	W	C	W	W	N	N	W	C	WR	W	WR	WR	WR	WR	WR	WR	C	WY	W	WY	WY	WY	WY	WY	WY	C	WG	WG	WG	WG	WG	WG	W	WG	C	W	W	C	C	C	C	C	C	W","W	W	W	W	W	W	C	W	W	W	W	W	W	W	C	C	W	W	W	W	C	WR	W	WR	C	C	C	C	C	C	WY	W	WY	C	C	C	C	C	C	C	C	C	C	C	WG	W	WG	C	W	W	C	W	W	W	W	W	W","N	N	N	N	N	W	C	W	W	W	W	W	W	W	W	C	C	C	C	C	C	WR	W	WR	WR	WR	WR	WR	WR	C	WY	W	WY	WY	WY	WY	WY	WY	C	WG	WG	WG	WG	WG	WG	W	WG	C	W	W	C	W	N	N	N	N	N","W	W	W	W	W	W	C	W	W	W	C	W	W	W	W	W	C	W	W	W	C	WR	W	W	W	W	W	W	WR	C	WY	W	W	W	W	W	W	WY	C	WG	W	W	W	W	W	W	WG	C	C	C	C	W	W	W	W	W	W","W	C	C	C	C	C	C	W	W	W	C	C	W	W	W	W	C	W	N	W	C	WR	WR	WR	WR	WR	WR	WR	WR	C	WY	WY	WY	WY	WY	WY	WY	WY	C	WG	WG	WG	WG	WG	WG	WG	WG	C	W	W	C	C	C	C	C	C	W","W	C	W	W	W	W	C	C	C	C	C	C	C	C	C	C	C	W	N	W	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	W	W	W	C	W	W	W	C	W","W	C	W	W	W	W	C	W	W	W	W	W	W	W	W	W	C	W	N	W	C	W	W	W	W	W	W	W	W	W	W	W	C	W	W	C	W	W	W	W	W	W	W	W	W	W	W	C	W	W	W	C	W	W	W	C	W","W	C	W	W	W	W	C	W	W	W	W	W	W	W	W	W	C	W	N	W	C	W	W	W	W	W	W	W	W	W	W	W	C	W	W	C	W	W	W	W	W	W	W	W	W	W	W	C	W	W	W	C	W	W	W	C	W","W	CP	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	W	N	W	C	C	C	C	C	C	C	C	C	C	C	C	C	W	W	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	C	CP	W","W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	N	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W	W"],s=this.xPos+50,i=this.yPos+50;this.width=t[0].split("	").length*this.steps+100,this.height=t.length*this.steps+100;var a="";e=t.map(o=>o.split("	"));let W=1,f=1,d=1,u=1;for(let o=0;o<e.length;o++){var c=[];for(let l=0;l<e[o].length;l++){if(e[o][l].includes("W")){l===0||o===0||l===e[o].length-1||o===e.length-1?o<e.length-1&&l<e[0].length-1&&e[o+1][l+1].includes("C")&&e[o][l+1].includes("W")&&e[o+1][l].includes("W")?(a="rightToBottom",W=s+20,f=i+10,d=s+10,u=i+20):l<e[0].length-1&&o>0&&e[o-1][l+1].includes("C")&&e[o][l+1].includes("W")&&e[o-1][l].includes("W")?(a="rightToTop",W=s+20,f=i+10,d=s+10,u=i):o<e.length-1&&l>0&&e[o+1][l-1].includes("C")&&e[o][l-1].includes("W")&&e[o+1][l].includes("W")?(a="leftToBottom",W=s+20,f=i+10,d=s+10,u=i+20):o>0&&l>0&&e[o-1][l-1].includes("C")&&e[o][l-1].includes("W")&&e[o-1][l].includes("W")?(a="leftToTop",W=s,f=i,d=s+10,u=i+10):o===0||o===e.length-1?(a="leftToRight",W=s,f=i+10,d=s+20,u=i+10):(l===0||l===e[0].length-1)&&(a="upToBottom",W=s+10,f=i,d=s+10,u=i+20):l!==0&&l!==e[o].length-1&&o!==0&&o!==e.length-1&&(e[o-1][l].includes("W")&&e[o+1][l].includes("W")&&e[o][l-1].includes("W")&&e[o][l+1].includes("W")&&e[o-1][l-1].includes("W")&&e[o+1][l+1].includes("W")&&e[o+1][l-1].includes("W")&&e[o-1][l+1].includes("W")?(a="surrounded",W=s+10,f=i,d=s+10,u=i+20):e[o-1][l-1].includes("C")&&!e[o+1][l+1].includes("C")&&e[o-1][l+1].includes("C")&&e[o+1][l-1].includes("C")||!e[o-1][l-1].includes("C")&&e[o+1][l+1].includes("C")&&!e[o-1][l+1].includes("C")&&!e[o+1][l-1].includes("C")&&!e[o+1][l].includes("C")&&!e[o][l+1].includes("C")||e[o-1][l-1].includes("C")&&e[o-1][l].includes("C")&&e[o][l-1].includes("C")?(a="rightToBottom",W=s+20,f=i+10,d=s+10,u=i+20):e[o-1][l-1].includes("C")&&e[o+1][l+1].includes("C")&&e[o-1][l+1].includes("C")&&!e[o+1][l-1].includes("C")||!e[o-1][l-1].includes("C")&&!e[o+1][l+1].includes("C")&&!e[o-1][l+1].includes("C")&&e[o+1][l-1].includes("C")&&!e[o][l-1].includes("C")&&!e[o+1][l].includes("C")&&!e[o][l+1].includes("C")||e[o-1][l].includes("C")&&e[o-1][l+1].includes("C")&&e[o][l+1].includes("C")?(a="leftToBottom",W=s,f=i+10,d=s+10,u=i+20):e[o-1][l-1].includes("C")&&e[o+1][l+1].includes("C")&&!e[o-1][l+1].includes("C")&&e[o+1][l-1].includes("C")||!e[o-1][l-1].includes("C")&&!e[o+1][l+1].includes("C")&&e[o-1][l+1].includes("C")&&!e[o+1][l-1].includes("C")&&!e[o-1][l].includes("C")&&!e[o][l+1].includes("C")||e[o][l-1].includes("C")&&e[o+1][l-1].includes("C")&&e[o+1][l].includes("C")?(a="rightToTop",W=s+20,f=i+10,d=s+10,u=i):!e[o-1][l-1].includes("C")&&e[o+1][l+1].includes("C")&&e[o-1][l+1].includes("C")&&e[o+1][l-1].includes("C")||e[o-1][l-1].includes("C")&&!e[o+1][l+1].includes("C")&&!e[o-1][l+1].includes("C")&&!e[o+1][l-1].includes("C")&&!e[o-1][l].includes("C")&&!e[o][l-1].includes("C")||e[o][l+1].includes("C")&&e[o+1][l+1].includes("C")&&e[o+1][l].includes("C")?(a="leftToTop",W=s+10,f=i,d=s+10,u=i+20):e[o][l-1].includes("W")&&e[o][l+1].includes("W")?(a="leftToRight",W=s,f=i+10,d=s+20,u=i+10):e[o-1][l].includes("W")&&e[o+1][l].includes("W")?(a="upToBottom",W=s+10,f=i,d=s+10,u=i+20):(a="",W=s+10,f=i,d=s+10,u=i+20));let P;e[o][l]==="WR"?P="red":e[o][l]==="WG"?P="lawngreen":e[o][l]==="WY"?P="yellow":P="blue",c.push(new z(s,i,a,W,f,d,u,P))}else e[o][l].includes("C")?e[o][l]==="CP"?c.push(new A(s,i,"PowerUpCoin")):c.push(new A(s,i,"Coin")):e[o][l]==="N"?c.push(new A(s,i,"None")):c.push(null);s+=20}this.boardMatrix.push(c),i+=20,s=this.xPos+50}for(let o=0;o<this.boardMatrix.length;o++)for(let l=0;l<this.boardMatrix[o].length;l++)this.boardMatrix[o][l]&&(o===0?l===0?this.boardMatrix[o][l].neighbors=[null,this.boardMatrix[o+1][l],this.boardMatrix[o][l+1],null]:l===this.boardMatrix[o].length-1?this.boardMatrix[o][l].neighbors=[null,this.boardMatrix[o+1][l],null,this.boardMatrix[o][l-1]]:this.boardMatrix[o][l].neighbors=[null,this.boardMatrix[o+1][l],this.boardMatrix[o][l+1],this.boardMatrix[o][l-1]]:o===this.boardMatrix.length-1?l===0?this.boardMatrix[o][l].neighbors=[this.boardMatrix[o-1][l],null,this.boardMatrix[o][l+1],null]:l===this.boardMatrix[o].length-1?this.boardMatrix[o][l].neighbors=[this.boardMatrix[o-1][l],null,null,this.boardMatrix[o][l-1]]:this.boardMatrix[o][l].neighbors=[this.boardMatrix[o-1][l],null,this.boardMatrix[o][l+1],this.boardMatrix[o][l-1]]:l===0?this.boardMatrix[o][l].neighbors=[this.boardMatrix[o-1][l],this.boardMatrix[o+1][l],this.boardMatrix[o][l+1],null]:l===this.boardMatrix[o].length-1?this.boardMatrix[o][l].neighbors=[this.boardMatrix[o-1][l],this.boardMatrix[o+1][l],null,this.boardMatrix[o][l-1]]:this.boardMatrix[o][l].neighbors=[this.boardMatrix[o-1][l],this.boardMatrix[o+1][l],this.boardMatrix[o][l+1],this.boardMatrix[o][l-1]])}checkPlayerWallCollision(e,t,s){for(let i=0;i<this.boardMatrix.length;i++)for(let a of this.boardMatrix[i]){if(!a||a.type!=="Wall")continue;let W=a;if(W.wallDir==="upToBottom"){let f=W.lineBeginX-1,d=W.yPos;for(let u=0;u<20;u++){const c=f-t,o=d-s,l=(c*c+o*o)**.5,P=t<f?1:2;if(l<e.radius+P)return u===19&&(f<=e.xPos?e.xPos+=2:e.xPos-=2),!0;d+=1}}else if(W.wallDir==="leftToRight"){let f=W.xPos,d=W.lineBeginY-1;for(let u=0;u<20;u++){const c=f-t,o=d-s,l=(c*c+o*o)**.5,P=s<d?1:2;if(l<e.radius+P)return!0;f+=1}}else if(W.wallDir==="rightToBottom"){let f=W.xPos+19,d=W.yPos+9;for(let u=0;u<10;u++){const c=f-t,o=d-s;if((c*c+o*o)**.5<e.radius+1)return e.direction==="right"?(e.yPos-=2,!0):(e.direction==="down"&&(e.xPos-=2),!0);f-=1}for(let u=0;u<10;u++){const c=f-t,o=d-s;if((c*c+o*o)**.5<e.radius+1)return e.direction==="right"?(e.yPos-=2,!0):(e.direction==="down"&&(e.xPos-=2),!0);d+=1}}else if(W.wallDir==="leftToBottom"){let f=W.xPos,d=W.yPos+9;for(let u=0;u<10;u++){const c=f-t,o=d-s;if((c*c+o*o)**.5<e.radius+1)return e.direction==="left"?(e.yPos-=2,!0):(e.direction==="down"&&(e.xPos+=2),!0);f+=1}for(let u=0;u<10;u++){const c=f-t,o=d-s;if((c*c+o*o)**.5<e.radius+1)return e.direction==="left"?(e.yPos-=2,!0):(e.direction==="down"&&(e.xPos+=2),!0);d+=1}}else if(W.wallDir==="rightToTop"){let f=W.xPos+19,d=W.yPos+10;for(let u=0;u<10;u++){const c=f-t,o=d-s;if((c*c+o*o)**.5<e.radius+1)return e.direction==="right"?(e.yPos+=2,!0):(e.direction==="up"&&(e.xPos-=2),!0);f-=1}for(let u=0;u<10;u++){const c=f-t,o=d-s;if((c*c+o*o)**.5<e.radius+1)return e.direction==="right"?(e.yPos+=2,!0):(e.direction==="up"&&(e.xPos-=2),!0);d-=1}}else if(W.wallDir==="leftToTop"){let f=W.xPos,d=W.yPos+9;for(let u=0;u<11;u++){const c=f-t,o=d-s;if((c*c+o*o)**.5<e.radius+1)return e.direction==="left"?(e.yPos+=2,!0):(e.direction==="up"&&(e.xPos+=2),!0);f+=1}for(let u=0;u<11;u++){const c=f-t,o=d-s;if((c*c+o*o)**.5<e.radius+1)return e.direction==="left"?(e.yPos+=1,!0):(e.direction==="up"&&(e.xPos+=2),!0);d-=1}}}return!1}playerCoinCollision(e,t){let s=0,i=0;e.xPos<t.xPos?s=t.xPos:e.xPos>t.xPos+t.width&&(s=t.xPos+t.width+9),e.yPos<t.yPos?i=t.yPos:e.yPos>t.yPos+t.height&&(i=t.yPos+t.height+9);const a=e.xPos-s,W=e.yPos-i;if((a*a+W*W)**.5<=e.radius){e.score+=100;let d=t.type;return t.type="Tile",d}return null}checkPlayerGhostcollision(e,t){let s=t.xPos-e.xPos,i=t.yPos-e.yPos;if(Math.sqrt(s*s+i*i)<e.radius+t.radius)if(!e.touched&&e.frightened){const W=this.boardMatrix[e.tile[0]][e.tile[1]];e.xPos=W.xMiddle,e.yPos=W.yMiddle,e.speed=10,e.touched=!0}else e.speed===10||(this.lifeLost=!0,t.startAngle=Math.PI*1.5,t.endAngle=Math.PI*1.5-.05)}endFrightened(e){e.frightened=!1,e.touched=!1,e.name==="Blinky"&&(e.color="red"),e.name==="Pinky"&&(e.color="pink"),e.name==="Inky"&&(e.color="lightblue"),e.name==="Clyde"&&(e.color="orange"),e.speed=2}}class V{constructor(e,t,s,i,a){n(this,"x");n(this,"y");n(this,"radius");n(this,"dx");n(this,"dy");n(this,"alpha");this.x=e,this.y=t,this.radius=s,this.dx=i,this.dy=a,this.alpha=1}draw(e){e.save(),e.globalAlpha=this.alpha,e.fillStyle="yellow",e.beginPath(),e.arc(this.x,this.y,this.radius,0,Math.PI*2,!1),e.fill(),e.restore()}update(e){this.draw(e),this.alpha-=.01,this.x+=this.dx,this.y+=this.dy}}class q{constructor(e,t){n(this,"xPos");n(this,"yPos");n(this,"radius");n(this,"direction");n(this,"mouthDirection");n(this,"speed");n(this,"score");n(this,"startAngle");n(this,"endAngle");n(this,"eat");n(this,"tile");n(this,"fourTilesAhead");n(this,"lives");n(this,"dead");n(this,"explosion");this.xPos=610,this.yPos=490,this.radius=18,this.speed=2,this.direction="Kees",this.mouthDirection="Open",this.score=t,this.startAngle=Math.PI*1.5,this.endAngle=Math.PI*1.5-.05,this.eat=!1,this.tile=[Math.floor((this.yPos-200)/20),Math.floor((this.xPos-200)/20)],this.fourTilesAhead=[Math.floor((this.yPos-200)/20)-4,Math.floor((this.xPos-200)/20)],this.lives=e,this.dead=!1,this.explosion=null}updateDirection(e,t){let s=this.tile[1],i=this.tile[0];"ArrowLeft"in e?(s<=4?this.fourTilesAhead=this.findEligibleTile(t,i,1):t.boardMatrix[i][s-4]&&t.boardMatrix[i][s-4].type!=="Wall"&&t.boardMatrix[i][s-4].type!=="None"&&(this.fourTilesAhead=this.findEligibleTile(t,i,s-4)),this.direction!=="left"&&(this.direction="left",this.startAngle=Math.PI,this.endAngle=Math.PI-.05,this.mouthDirection="Open")):"ArrowRight"in e?(t.boardMatrix[0].length-1-s<=4?this.fourTilesAhead=this.findEligibleTile(t,i,t.boardMatrix[0].length-2):t.boardMatrix[i][s+4]&&t.boardMatrix[i][s+4].type!=="Wall"&&t.boardMatrix[i][s+4].type!=="None"&&(this.fourTilesAhead=this.findEligibleTile(t,i,s+4)),this.direction!=="right"&&(this.direction="right",this.startAngle=0,this.endAngle=-.05,this.mouthDirection="Open")):"ArrowUp"in e?(i<=4?this.fourTilesAhead=this.findEligibleTile(t,1,s):t.boardMatrix[i-4][s]&&t.boardMatrix[i-4][s].type!=="Wall"&&t.boardMatrix[i-4][s].type!=="None"&&(this.fourTilesAhead=this.findEligibleTile(t,i-4,s)),this.direction!=="up"&&(this.direction="up",this.startAngle=Math.PI*1.5,this.endAngle=Math.PI*1.5-.05,this.mouthDirection="Open")):"ArrowDown"in e&&(t.boardMatrix.length-1-i<=4?this.fourTilesAhead=this.findEligibleTile(t,t.boardMatrix.length-2,s):t.boardMatrix[i+4][s]&&t.boardMatrix[i+4][s].type!=="Wall"&&t.boardMatrix[i+4][s].type!=="None"&&(this.fourTilesAhead=this.findEligibleTile(t,i+4,s)),this.direction!=="down"&&(this.direction="down",this.startAngle=Math.PI/2,this.endAngle=Math.PI/2-.05,this.mouthDirection="Open"))}findEligibleTile(e,t,s){let i=[""];function a(W,f,d,u){let c=[...Array(u.boardMatrix[0].length).keys()];if(!(![...Array(u.boardMatrix.length).keys()].includes(f)||!c.includes(d)||W.includes([f,d].toString())))if(!u.boardMatrix[f][d]||u.boardMatrix[f][d].type==="Wall"||u.boardMatrix[f][d].type==="None"){W.includes([f,d].toString())||W.push([f,d].toString());let l=[[f,d+1],[f,d-1],[f+1,d],[f-1,d]];for(let P of l){let w=a(W,P[0],P[1],u);if(w)return[w[0],w[1]]}}else return[f,d]}return a(i,t,s,e)}move(e,t){"ArrowLeft"in e?this.xPos-=this.speed:"ArrowRight"in e?this.xPos+=this.speed:"ArrowUp"in e?this.yPos-=this.speed:"ArrowDown"in e&&(this.yPos+=this.speed),this.tile=[Math.floor((this.yPos-200)/20),Math.floor((this.xPos-200)/20)],this.updateDirection(e,t)}caught(){this.startAngle+=.08,this.endAngle-=.08}createExplosion(e){let t=[];for(let s=0;s<=150;s++){let i=(Math.random()-.5)*(Math.random()*6),a=(Math.random()-.5)*(Math.random()*6),W=Math.random()*3;const f=e.xPos+4/2,d=e.yPos+4/2;let u=new V(f,d,W,i,a);t.push(u)}return t}}function K(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var I={};(function(h){h.__esModule=!0;var e=function(){function t(s,i){this._size=0;var a=s??11,W=i??null;if(a<1)throw new Error("initial capacity must be greater than or equal to 1");this._queue=new Array(a),this._comparator=W}return t.prototype.grow=function(){var s=this._size,i=s+(s<64?s+2:s>>1);if(!Number.isSafeInteger(i))throw new Error("capacity out of range");this._queue.length=i},t.prototype.siftup=function(s,i){this._comparator!==null?this.siftupUsingComparator(s,i):this.siftupComparable(s,i)},t.prototype.siftupUsingComparator=function(s,i){for(;s>0;){var a=s-1>>>1,W=this._queue[a];if(this._comparator(i,W)>=0)break;this._queue[s]=W,s=a}this._queue[s]=i},t.prototype.siftupComparable=function(s,i){for(;s>0;){var a=s-1>>>1,W=this._queue[a];if(i.toString().localeCompare(W.toString())>=0)break;this._queue[s]=W,s=a}this._queue[s]=i},t.prototype.sink=function(s,i){this._comparator!==null?this.sinkUsingComparator(s,i):this.sinkComparable(s,i)},t.prototype.sinkUsingComparator=function(s,i){for(var a=this._size>>>1;s<a;){var W=(s<<1)+1,f=this._queue[W],d=W+1;if(d<this._size&&this._comparator(f,this._queue[d])>0&&(f=this._queue[W=d]),this._comparator(i,f)<=0)break;this._queue[s]=f,s=W}this._queue[s]=i},t.prototype.sinkComparable=function(s,i){for(var a=this._size>>>1;s<a;){var W=(s<<1)+1,f=this._queue[W],d=W+1;if(d<this._size&&f.toString().localeCompare(this._queue[d].toString())&&(f=this._queue[W=d]),i.toString().localeCompare(f.toString())<=0)break;this._queue[s]=f,s=W}this._queue[s]=i},t.prototype.indexOf=function(s){for(var i=0;i<this._queue.length;i++)if(this._queue[i]===s)return i;return-1},t.prototype.add=function(s){var i=this._size;return i>=this._queue.length&&this.grow(),this._size=i+1,i===0?this._queue[0]=s:this.siftup(i,s),!0},t.prototype.poll=function(){if(this._size===0)return null;var s=--this._size,i=this._queue[0],a=this._queue[s];return this._queue.slice(s,1),s!==0&&this.sink(0,a),i},t.prototype.peek=function(){return this._size===0?null:this._queue[0]},t.prototype.contains=function(s){return this.indexOf(s)!==-1},t.prototype.clear=function(){for(var s=0,i=this._queue;s<i.length;s++)i[s];this._size=0},t.prototype.size=function(){return this._size},t.prototype.empty=function(){return this._size===0},t.prototype.toArray=function(){return this._queue.filter(function(s){return s})},t.prototype.toString=function(){return this.toArray().toString()},t.prototype[Symbol.iterator]=function(){var s=this,i=0;return{next:function(){return{done:i==s._size,value:s._queue[i++]}}}},t}();h.default=e})(I);const Q=K(I);class _{constructor(e){n(this,"xPos");n(this,"yPos");n(this,"radius");n(this,"direction");n(this,"speed");n(this,"color");n(this,"neighbors");n(this,"nextTileCoord");n(this,"prevTileCoord");n(this,"preVisited");n(this,"tile");n(this,"mode");n(this,"home");n(this,"homeTarget");n(this,"name");n(this,"endTile");n(this,"frightened");n(this,"beginTimeMode");n(this,"endTimeMode");n(this,"beginTimeFrightened");n(this,"endTimeFrightened");n(this,"phaseChange");n(this,"touched");n(this,"hasEntered");n(this,"algorithm");this.xPos=590,this.yPos=510,this.radius=18,this.speed=2,this.direction="right",this.color="",this.neighbors=[],this.nextTileCoord=[],this.prevTileCoord=[],this.preVisited=e.boardMatrix[0][0],this.tile=[(this.yPos-210)/20,(this.xPos-210)/20],this.mode="chase",this.home=[e.boardMatrix[0][0],e.boardMatrix[0][0]],this.homeTarget=e.boardMatrix[0][0],this.name="Blinky",this.endTile=e.boardMatrix[0][0],this.frightened=!1,this.beginTimeMode=Math.floor(Date.now()/1e3),this.endTimeMode=Math.floor(Date.now()/1e3),this.beginTimeFrightened=0,this.endTimeFrightened=0,this.phaseChange=!1,this.touched=!1,this.hasEntered=!1,this.algorithm="dfs"}_determineEndtile(e,t,s){let i;return this.mode==="chase"?i=e.boardMatrix[t][s]:this.mode==="scatter"?i=this.homeTarget:i=e.boardMatrix[t][s],i}_moveToCenterOfTile(){this.xPos<this.nextTileCoord[0]?this.xPos+=this.speed:this.xPos>this.nextTileCoord[0]?this.xPos-=this.speed:this.yPos<this.nextTileCoord[1]?this.yPos+=this.speed:this.yPos>this.nextTileCoord[1]&&(this.yPos-=this.speed)}_determine_neighbors(e){for(let t=0;t<e.length;t++)for(let s=0;s<e[t].length;s++){let i=e[t][s];i&&this.xPos>=i.xPos&&this.xPos<=i.xPos+19&&this.yPos>=i.yPos&&this.yPos<=i.yPos+19&&(this.neighbors=i.neighbors)}}_assignRandomNextTileCoord(){for(let e of this.neighbors)if(e.type!=="Wall"&&e.type!=="None"&&e!=this.preVisited)return[e.xMiddle,e.yMiddle];return[210,210]}_determineErrorSpot(e,t,s){return e==="Pinky"&&t.length<=2&&s!=="scatter"||e==="Inky"&&t.length<=2&&s!=="scatter"||e==="Clyde"&&t.length<=8&&s!=="scatter"}_determineNextTilePos(e,t,s,i){if(e.length<=1&&this.touched){this.xPos=490,this.yPos=350;return}e.length<=2&&this.mode==="scatter"&&(this.homeTarget===this.home[0]?this.homeTarget=this.home[1]:this.homeTarget=this.home[0]),this._determineErrorSpot(t,e,s)?(this.nextTileCoord=this._assignRandomNextTileCoord(),t==="Clyde"&&(this.mode="scatter")):(this.prevTileCoord=this.nextTileCoord,this.algorithm==="aStar"?this.nextTileCoord=[e[e.length-2].xMiddle,e[e.length-2].yMiddle]:(console.log(e),this.nextTileCoord=[e[e.length-1].xMiddle,e[e.length-1].yMiddle])),this.preVisited=i.boardMatrix[this.tile[0]][this.tile[1]],this._moveToCenterOfTile()}_dfs(e,t,s,i){let a=(this.endTile.yMiddle-210)/20,W=(this.endTile.xMiddle-210)/20;if([s,t].toString()===[a,W].toString())return console.log("found Kees"),[i.boardMatrix[s][t]];let f=[...Array(i.boardMatrix[0].length).keys()];if(![...Array(i.boardMatrix.length).keys()].includes(s)||!f.includes(t)||e.includes([s,t].toString())||i.boardMatrix[s][t].type==="Wall"||i.boardMatrix[s][t]===this.preVisited)return;e.push([s,t].toString());let u=[[t-1,s],[t+1,s],[t,s-1],[t,s+1]];for(let c of u){let o=c[0],l=c[1],P=this._dfs(e,o,l,i);if(P)return P.push(i.boardMatrix[l][o]),P}}_dfsAlgorithm(e,t,s){let i=this._dfs([],this.tile[1],this.tile[0],e);console.log(i),i&&this._determineNextTilePos(i,t,s,e)}_aStarAlgorithm(e,t,s,i,a){let W=0,f=new Q;f.add([0,W,t]);let d=new Map,u=new Map,c=new Map,o=e.boardMatrix;for(let M=0;M<o.length;M++)for(let b=0;b<o[M].length;b++){if(!o[M][b]||o[M][b].type==="Wall"||o[M][b].type==="None")continue;let y=o[M][b];u.set(y,1/0),c.set(y,1/0)}u.set(t,0);let l=Math.abs(t.xMiddle-s.xMiddle),P=Math.abs(t.yMiddle-s.yMiddle);c.set(t,Math.sqrt(l*l+P*P));let w=new Set;for(w.add(t);!f.empty();){let M=f.poll()[2];w.delete(M);let b=[];if(M===s){for(;Array.from(d.keys()).includes(M);)M=d.get(M),b.push(M);this._determineNextTilePos(b,i,a,e);return}for(let y of M.neighbors)if(y&&y.type!=="Wall"&&y.type!=="None"&&y!==this.preVisited){let G=u.get(M)+1;if(G<u.get(y)){d.set(y,M),u.set(y,G);let E=Math.abs(y.xMiddle-s.xMiddle),N=Math.abs(y.yMiddle-s.yMiddle),L=Math.sqrt(E*E+N*N);c.set(y,G+L),w.has(y)||(W+=1,f.add([c.get(y),W,y]),w.add(y))}}}(i==="Pinky"||this.frightened)&&(this.nextTileCoord=this._assignRandomNextTileCoord()),this.preVisited=e.boardMatrix[this.tile[0]][this.tile[1]],this._moveToCenterOfTile()}move(e,t,s,i,a,W){if(e.middlePosTile.some(d=>d[0]===this.xPos&&d[1]===this.yPos)){let d=e.boardMatrix[this.tile[0]][this.tile[1]],u,c;if(this.touched)this.endTile=e.boardMatrix[7][14];else{if(s==="Blinky")u=t.tile[1],c=t.tile[0];else if(s==="Pinky")u=t.fourTilesAhead[1],c=t.fourTilesAhead[0];else if(s==="Inky"){let w=a.determineTarget(W,t,e);u=w[1],c=w[0]}else u=t.fourTilesAhead[1],c=t.fourTilesAhead[0];this.endTile=this._determineEndtile(e,c,u)}let o=t.xPos-this.xPos,l=t.yPos-this.yPos,P=Math.sqrt(o*o+l*l);if(this.touched&&P<this.radius+t.radius&&(this.preVisited=e.boardMatrix[t.tile[0]][t.tile[1]]),this.phaseChange){this.nextTileCoord=this.prevTileCoord,this.phaseChange=!1,this.preVisited=e.boardMatrix[this.tile[0]][this.tile[1]],this._moveToCenterOfTile();return}this._determine_neighbors(e.boardMatrix),this.algorithm==="aStar"?this._aStarAlgorithm(e,d,this.endTile,s,i):this.algorithm==="dfs"&&(this._dfsAlgorithm(e,s,i),console.log("Executed"))}else this._moveToCenterOfTile();this.tile=[Math.floor((this.yPos-200)/20),Math.floor((this.xPos-200)/20)]}becomeFrightened(){this.frightened=!0,this.phaseChange=!0,this.speed=1,this.color="blue"}}class j extends _{constructor(e){super(e),this.xPos=490,this.yPos=350,this.color="red",this.tile=[(this.yPos-210)/20,(this.xPos-210)/20];let t=e.boardMatrix[1].length-2,s=e.boardMatrix[1].length-8;this.home=[e.boardMatrix[1][t],e.boardMatrix[1][s]],this.homeTarget=e.boardMatrix[1][t],this.name="Blinky"}}class H extends _{constructor(e){super(e),this.xPos=530,this.yPos=350,this.color="pink",this.tile=[(this.yPos-210)/20,(this.xPos-210)/20],this.home=[e.boardMatrix[1][1],e.boardMatrix[1][4]],this.homeTarget=e.boardMatrix[1][1],this.name="Pinky"}enter(){!this.hasEntered&&this.xPos!==490?this.xPos-=1:this.tile=[(this.yPos-210)/20,(this.xPos-210)/20]}}class $ extends _{constructor(e){super(e),this.xPos=570,this.yPos=370,this.color="lightblue",this.tile=[(this.yPos-210)/20,(this.xPos-210)/20];let t=e.boardMatrix.length-2,s=e.boardMatrix.length-2,i=e.boardMatrix[t].length-2,a=e.boardMatrix[t].length-10;this.home=[e.boardMatrix[t][i],e.boardMatrix[s][a]],this.homeTarget=e.boardMatrix[t][i],this.name="Inky"}determineTarget(e,t,s){let i=t.fourTilesAhead[1]-Math.floor(e.tile[1]),a=t.fourTilesAhead[0]-Math.floor(e.tile[0]),W=s.boardMatrix.length,f=s.boardMatrix[0].length,d,u;return a>=0?t.fourTilesAhead[0]+a>W-2?u=W-2:u=t.fourTilesAhead[0]+a:t.fourTilesAhead[0]+a<1?u=1:u=t.fourTilesAhead[0]+a,i>=0?t.fourTilesAhead[1]+i>f-2?d=f-2:d=t.fourTilesAhead[1]+i:t.fourTilesAhead[1]+i<1?d=1:d=t.fourTilesAhead[1]+i,t.findEligibleTile(s,u,d)}enter(){!this.hasEntered&&(this.xPos!==490||this.yPos!==350)?(!this.hasEntered&&this.yPos!==350?this.yPos-=1:!this.hasEntered&&this.xPos!==490&&(this.xPos-=1),console.log(this.xPos,this.yPos)):this.tile=[(this.yPos-210)/20,(this.xPos-210)/20]}}class J extends _{constructor(t){super(t);n(this,"lost");this.xPos=570,this.yPos=330,this.color="orange",this.tile=[(this.yPos-210)/20,(this.xPos-210)/20];let s=t.boardMatrix.length-2,i=t.boardMatrix.length-6;this.home=[t.boardMatrix[s][1],t.boardMatrix[i][1]],this.homeTarget=t.boardMatrix[s][1],this.name="Clyde",this.lost=!1}enter(){!this.hasEntered&&(this.xPos!==490||this.yPos!==350)?(console.log("Kees not there"),!this.hasEntered&&this.yPos!==350?this.yPos+=1:!this.hasEntered&&this.xPos!==490&&(console.log("Kees here"),this.xPos-=1)):this.tile=[(this.yPos-210)/20,(this.xPos-210)/20]}}class k{constructor(e,t,s){n(this,"text");n(this,"fillColor");n(this,"textColor");n(this,"x");n(this,"y");n(this,"width");n(this,"height");this.text=e,this.fillColor=t,this.textColor=s,this.x=0,this.y=0,this.width=0,this.height=0,this.onClick=this.onClick.bind(this)}onClick(){console.log("Button was clicked!")}setPosition(e,t){this.x=e,this.y=t}setSize(e,t){this.width=e,this.height=t}draw(e){e.fillStyle=this.fillColor,e.fillRect(this.x,this.y,this.width,this.height),e.fillStyle=this.textColor,e.textAlign="center",e.textBaseline="middle",e.font="25px arial",e.fillText(this.text,this.x+this.width/2,this.y+this.height/2,this.width)}inBounds(e,t){return!(e<this.x||e>this.x+this.width||t<this.y||t>this.y+this.height)}}let g=document.querySelector("canvas");const r=g==null?void 0:g.getContext("2d");g.width=window.innerWidth;g.height=window.innerHeight;var R={};window.addEventListener("keydown",function(h){R[h.key]=!0,h.preventDefault()});window.addEventListener("keyup",function(h){delete R[h.key]});function Z(){let h=[],e=new k("Restart Game","#eeaa00","black"),t=new k("End Game","#eeaa00","black");return e.setPosition(g.width/2-200,g.height/2),t.setPosition(g.width/2+50,g.height/2),e.onClick=()=>{document.location.reload()},h.push(e),h.push(t),h.forEach(s=>s.setSize(150,75)),h}let C,x,Y,p,m,T,v,D,O,B,ee=Z();function te(){D=20,O=7,B=10,C=new q(0,0),x=new U(D,O,B),Y=new j(x),p=new H(x),m=new $(x),T=new J(x),v=[Y,p,T,m],x.time=0}function ie(){let h=C;C=new q(h.lives,h.score),Y.xPos=490,Y.yPos=350,T.xPos=570,T.yPos=330,m.xPos=570,m.yPos=370,p.xPos=530,p.yPos=350,x.lifeLost=!1,x.gameOverScreen=!1;for(let e of v)e.touched=!1,e.frightened=!1,e.tile=[Math.floor((e.yPos-200)/20),Math.floor((e.xPos-200)/20)],e.name!=="Blinky"&&(e.hasEntered=!1),console.log(e);x.time=1}function se(){r.fillStyle="black",r==null||r.fillRect(x.xPos,x.yPos,x.width,x.height);for(let t=0;t<x.boardMatrix.length;t++)for(let s=0;s<x.boardMatrix[0].length;s++)if(x.boardMatrix[t][s]){if(x.boardMatrix[t][s].type==="Wall"){r.strokeStyle=x.boardMatrix[t][s].color,r.lineWidth=2,r==null||r.beginPath();let i=x.boardMatrix[t][s];i.wallDir==="leftToRight"?(r==null||r.moveTo(i.xPos,i.yPos+10),r==null||r.lineTo(i.xPos+20,i.yPos+10)):i.wallDir==="upToBottom"?(r==null||r.moveTo(i.xPos+10,i.yPos),r==null||r.lineTo(i.xPos+10,i.yPos+20)):i.wallDir==="rightToBottom"?(r==null||r.moveTo(i.xPos+20,i.yPos+10),r==null||r.arcTo(i.xPos+10,i.yPos+10,i.xPos+10,i.yPos+20,10)):i.wallDir==="leftToBottom"?(r==null||r.moveTo(i.xPos,i.yPos+10),r==null||r.arcTo(i.xPos+10,i.yPos+10,i.xPos+10,i.yPos+20,10)):i.wallDir==="rightToTop"?(r==null||r.moveTo(i.xPos+20,i.yPos+10),r==null||r.arcTo(i.xPos+10,i.yPos+10,i.xPos+10,i.yPos,10)):i.wallDir==="leftToTop"&&(r==null||r.moveTo(i.xPos,i.yPos+10),r==null||r.arcTo(i.xPos+10,i.yPos+10,i.xPos+10,i.yPos,10)),r==null||r.stroke()}else if(x.boardMatrix[t][s].type==="Coin"){let i=x.boardMatrix[t][s];r.fillStyle="orange",r.beginPath(),r.moveTo(C.xPos,C.yPos),r.arc(i.xPos+10,i.yPos+10,2,0,90,!1),r.lineTo(C.xPos,C.yPos),r.fill(),x.playerCoinCollision(C,i)}else if(x.boardMatrix[t][s].type==="PowerUpCoin"){let i=x.boardMatrix[t][s];i.updateLightness(),r.fillStyle=`hsl(62,100%,${i.lightness}%)`,r.beginPath(),r.moveTo(C.xPos,C.yPos),r.arc(i.xPos+10,i.yPos+10,10,0,90,!1),r.lineTo(C.xPos,C.yPos),r.fill();let a=x.playerCoinCollision(C,i);if(a&&a==="PowerUpCoin")for(let W of v)W.becomeFrightened(),W.beginTimeFrightened=Math.floor(Date.now()/1e3),W.endTimeFrightened=Math.floor(Date.now()/1e3)}r.fillStyle="red"}let h=220,e=570;r.fillStyle="yellow";for(let t=0;t<C.lives;t++){r.beginPath(),r.moveTo(h,e);let s=Math.PI+.55,i=Math.PI-.55;r.arc(h,e,10,s,i,!1),r.lineTo(h,e),r.fill(),h+=30}}function oe(h,e){r.fillStyle="#808080",r.beginPath(),r==null||r.roundRect(g.width/3,g.height/3,g.width/3,g.height/3,50),r.fill(),r.font="20px Courier New",r.textAlign="center",r.strokeStyle="white",r.strokeText("Oh he dead",g.width/2,g.height/2-80),e.gameOverScreen||(g.addEventListener("click",t=>{let s=t.pageX-(g.clientLeft+g.offsetLeft),i=t.pageY-(g.clientTop+g.offsetTop);h.forEach(a=>{a.inBounds(s,i)&&a.onClick&&a.onClick()})}),e.gameOverScreen=!0),h.forEach(t=>t.draw(r))}function le(){if(x.lifeLost)Math.abs(C.startAngle-C.endAngle)<=Math.PI*2-.155?C.caught():(C.dead=!0,C.explosion||(C.explosion=C.createExplosion(C)),C.explosion.forEach((t,s)=>{t.alpha<=0?C.explosion.splice(s,1):t.update(r)})),C.explosion&&C.explosion.length===0&&(C.lives>0?(C.lives-=1,ie()):oe(ee,x));else{if(C.updateDirection(R,x),C.direction==="right")var h=C.xPos+C.speed,e=C.yPos;else if(C.direction==="left")var h=C.xPos-C.speed,e=C.yPos;else if(C.direction==="up")var h=C.xPos,e=C.yPos-C.speed;else var h=C.xPos,e=C.yPos+C.speed;x.checkPlayerWallCollision(C,h,e)||C.move(R,x)}}function re(){C.dead||(r.beginPath(),r.moveTo(C.xPos,C.yPos),r.arc(C.xPos,C.yPos,C.radius,C.startAngle,C.endAngle,!1),r.lineTo(C.xPos,C.yPos),r.fillStyle="yellow",r.fill(),Object.keys(R).length!==0&&(C.mouthDirection==="Open"?(C.startAngle+=.08,C.endAngle-=.08):(C.startAngle-=.08,C.endAngle+=.08)),Math.abs(C.startAngle-C.endAngle)>2.5?C.mouthDirection="Close":Math.abs(C.startAngle-C.endAngle)<.17&&(C.mouthDirection="Open"))}function ne(){for(let h of v)r.fillStyle=h.color,r==null||r.beginPath(),r==null||r.arc(h.xPos,h.yPos,h.radius,0,2*Math.PI),r==null||r.fill(),h.hasEntered&&h.move(x,C,h.name,h.mode,m,Y)}function he(){r==null||r.clearRect(0,0,g.width,g.height),r.fillStyle="black",r==null||r.fillRect(0,0,g.width,g.height),se(),re(),x.lifeLost||ne()}function We(){for(let h of v)if(!h.frightened)h.mode==="chase"?h.endTimeMode-h.beginTimeMode>x.chaseTimeOut?(h.mode="scatter",h.beginTimeMode=Math.floor(Date.now()/1e3),h.endTimeMode=Math.floor(Date.now()/1e3),h.phaseChange=!0):h.endTimeMode=Math.floor(Date.now()/1e3):h.mode==="scatter"&&(h.endTimeMode-h.beginTimeMode>x.scatterTimeOut?(h.mode="chase",h.beginTimeMode=Math.floor(Date.now()/1e3),h.endTimeMode=Math.floor(Date.now()/1e3),h.phaseChange=!0):h.endTimeMode=Math.floor(Date.now()/1e3));else{let e=h.xPos%2===0&&h.yPos%2===0;h.endTimeFrightened-h.beginTimeFrightened>x.frightenedTimeOut&&e||h.touched&&h.xPos===490&&h.yPos===350?x.endFrightened(h):h.endTimeFrightened=Math.floor(Date.now()/1e3)}}function S(){x.time+=1,he(),le();const h=e=>e.type!=="coin";if(!x.boardMatrix.flat().some(h))x.flicker===0&&setTimeout(()=>{console.log("Timeout")},1500),x.boardMatrix.map(e=>e.map(t=>t.hasOwnProperty("color")&&t.color==="blue"?t.color="white":t.hasOwnProperty("color")&&t.color==="white"?t.color="blue":console.log("Nothing"))),x.flicker<=7&&(x.flicker+=1,setTimeout(()=>{window.requestAnimationFrame(S)},500));else{if(!x.lifeLost){x.time>=100&&!p.hasEntered&&(p.enter(),p.tile=[(p.yPos-210)/20,(p.xPos-210)/20],p.xPos===490&&p.yPos===350&&(p.hasEntered=!0)),T.hasEntered||C.score>=1e3&&x.time>=50&&(T.enter(),T.tile=[(T.yPos-210)/20,(T.xPos-210)/20],T.xPos===490&&T.yPos===350&&(T.hasEntered=!0)),m.hasEntered||C.score>=500&&x.time>=150&&(m.enter(),m.tile=[(m.yPos-210)/20,(m.xPos-210)/20],m.xPos===490&&m.yPos===350&&(m.hasEntered=!0)),We();for(let e of v)x.checkPlayerGhostcollision(e,C)}window.requestAnimationFrame(S)}}te();S();
